---
title: "yield_predictor"
---

```{r, echo = FALSE, message = FALSE, warning = FALSE}

library(scholar)
library(tibble)
library(dplyr)

# Define the id for Soeren Petersen
id <- 'prKV9NwAAAAJ'

# Get publications from Google Scholar
publications <- scholar::get_publications(id) |> 
  tibble() |> 
  arrange(desc(year))

# Try formatting the publications
formatted_yield_pred_publication <- tryCatch({
  formatted_publications <- scholar::format_publications(id, "Petersen, S.")
  match <- grep("Yield prediction", formatted_publications)
  
  if (length(match) > 0) {
    formatted_publications[match]
  } else {
    "Yield prediction publication not found in scholar profile."
  }
}, error = function(e) {
  "Unable to fetch formatted publication (scholar::format_publications() failed)."
})

```

Below, you can try a yield predictor model similar to model the glm model used in the publication:

*`r formatted_yield_pred_publication`*

<iframe class="full-width-iframe" src="https://f0om03-s0ren-petersen.shinyapps.io/yield_predictor/" width="100%" height="800px">

</iframe>
